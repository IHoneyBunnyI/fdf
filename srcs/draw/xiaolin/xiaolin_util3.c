/* ************************************************************************** */
/*  💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩    */
/*  💩                    ┌┐┌┌─┐┬─┐┌┬┐  ┬┌─┐  ┌─┐┬ ┬┬┌┬┐                  💩   */
/*  💩                    ││││ │├┬┘│││  │└─┐  └─┐├─┤│ │                   💩   */
/*  💩                    ┘└┘└─┘┴└─┴ ┴  ┴└─┘  └─┘┴ ┴┴ ┴                   💩   */
/*  💩                                                                    💩   */
/*  💩                          WOOOW NORM                                💩   */
/*  💩                                                                    💩   */
/*  💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩   */
/*                     		               			                          */
/*                                                                            */
/*      NORMINETTE LOVERS                                                     */
/*                                                                            */
/*                        ───────────────────────────────────                 */
/*                        ───────────▄▄█▀██▀█▄▄▄▄────────────                 */
/*                        ─────────▄█▀▀████▄▄█▀▀▀▀█▄▄────────                 */
/*                        ───────▄█░░░░░░░░░░░░░░░░░░█▄──────                 */
/*                        ─────▄██░░░░░░░░░░░░░░░░░░░░▀█▄────                 */
/*                        ────▄██░░░░░░░░░░░░░░░░░░░░░░░██───                 */
/*                        ────█▀░░░░░░░░▄░░░░░░░░░░▄░░░░░▀█▄─                 */
/*                        ───█▀░░░░▄▀▀▀▀░█░░░░░▄▀▀▀░▀▄░░░░░█▄                 */
/*                        ──██░░░░█░▄▀▀▄░█░░░░█░▄▀▀▄░░█░░░░██                 */
/*                        ─██░░░░░█░░▀▀░▄▀░░░░▀▄░▀▀░░▄▀░░░░░█                 */
/*                        ██▀░░░░░▀▀▀▀▀▀░░░░░░░░▀▀▀▀▀░░░░░░░█                 */
/*                        ██░░░░░░░░░░░░░▐░░░░░░░░░░░░░░░░░░█                 */
/*                        █▀░░░░░░░░░░░░░▌░░░░▌░░░░░░░░░░░░░█                 */
/*                        █░░░░░░░░░░░░░▐░▄░▄░▐░░░░░░░░░░░░░█                 */
/*                        █░░░░░░░░▐░░░░░░░░░░░░░░░░░░░░░░░░█                 */
/*                        █░░░░░░░░▌░░░░░░░░░░░░░░░░░░░░░░░██                 */
/*                        █░░░░░░░▐░░▄▀▀▀▀▀▀▀▀▄░░░░░░░░░░░░██                 */
/*                        ─█░░░░░░░▄▀▄████████▄█▄░▌░░░░░░░██─                 */
/*                        ──█░░░░░░█▄█▄▄▄▄▄▄▄▄██▀░▐░░░░░▄██──                 */
/*                        ──▀▄░░░░░░▀█▄▄▄▄▄▄▄▄▀░░░░░░░▄█▀────                 */
/*                        ────█▄░░▀▄░░░░░░░░░░░░░░░░▄█▀──────                 */
/*                        ─────█▄▄░░▀░░░░░░░░░░░░░▄█▀────────                 */
/*                        ───────▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀──────────                 */
/*                        ───────────────────────────────────                 */
/*                  ┌─┐┬ ┬┌─┐┬┌─  ┌┐┌┌─┐┬─┐┌┬┐  ┌─┐┬  ┬ ┬┌┐                   */
/*                  ├┤ │ ││  ├┴┐  ││││ │├┬┘│││  │  │  │ │├┴┐                  */
/*                  └  └─┘└─┘┴ ┴  ┘└┘└─┘┴└─┴ ┴  └─┘┴─┘└─┘└─┘                  */
/*                                                                            */
/*   By: NORM IS SHIT                         LIKE NORMINETTE                 */
/*                                                                            */
/*   Created: fjkghdkfg fdkjghdHdb by norm is Shit                            */
/*   Updated: BBBBBBBBBB 99999999 by FUCK THE NORM                            */
/*                                                                            */
/*                   ┌─┐┬ ┬┌─┐┬┌─  ┌┐┌┌─┐┬─┐┌┬┐  ┌─┐┬  ┬ ┬┌┐                  */
/*                   ├┤ │ ││  ├┴┐  ││││ │├┬┘│││  │  │  │ │├┴┐                 */
/*                   └  └─┘└─┘┴ ┴  ┘└┘└─┘┴└─┴ ┴  └─┘┴─┘└─┘└─┘                 */
/*                                                                            */
/*      Ставб лайк, если ты тоже любишь норму ❤️                              */
/*                                                                            */
/*                                                                            */
/*        💩💩💩💩💩💩💩       💩         💩                                     */
/*                                                                            */
/*                                                                            */
/*                                                                            */
/* ************************************************************************** */

#include "fdf.h"
#include "xiaolin.h"
#include <stdlib.h>

void	swapp(t_point *p1, t_point *p2)
{
	swap_(&p1->x, &p2->x);
	swap_(&p1->y, &p2->y);
}

void	while_otdelno(t_fdf *fdf, t_xiaolin *xiaolin, t_point p1, t_point p2)
{
	while (xiaolin->x < xiaolin->c.xpxl2)
	{
		plot_(fdf->mlx, (t_xy){xiaolin->x, ipart_(xiaolin->c.intery)}, \
rfpart_(xiaolin->c.intery), get_color(xiaolin->cur, p1, p2, xiaolin->delta));
		plot_(fdf->mlx, (t_xy){xiaolin->x, ipart_(xiaolin->c.intery) + 1}, \
fpart_(xiaolin->c.intery), get_color(xiaolin->cur, p1, p2, xiaolin->delta));
		xiaolin->c.intery += xiaolin->c.gradient;
		xiaolin->cur.x += xiaolin->c.sx;
		xiaolin->x++;
	}
}

void	while_otdelno_2(t_fdf *fdf, t_xiaolin *xiaolin, t_point p1, t_point p2)
{
	while (xiaolin->y < xiaolin->c.ypxl2)
	{
		plot_(fdf->mlx, (t_xy){ipart_(xiaolin->c.interx), xiaolin->y}, \
rfpart_(xiaolin->c.interx), get_color(xiaolin->cur, p1, p2, xiaolin->delta));
		plot_(fdf->mlx, (t_xy){ipart_(xiaolin->c.interx) + 1, xiaolin->y}, \
fpart_(xiaolin->c.interx), get_color(xiaolin->cur, p1, p2, xiaolin->delta));
		xiaolin->c.interx += xiaolin->c.gradient;
		xiaolin->cur.y += xiaolin->c.sy;
		xiaolin->y++;
	}
}

void	\
	fuck_norminette_1(t_fdf *fdf, t_xiaolin *xiaolin, t_point p1, t_point p2)
{
	if (p2.x < p1.x)
		swapp(&p1, &p2);
	fill_floatdx_p1x_1(&xiaolin->c, p1);
	plot_(fdf->mlx, (t_xy){xiaolin->c.xpxl1, xiaolin->c.ypxl1}, \
			rfpart_(xiaolin->c.yend) * xiaolin->c.xgap, \
			get_color(xiaolin->cur, p1, p2, xiaolin->delta));
	xiaolin->cur.x += xiaolin->c.sx;
	plot_(fdf->mlx, (t_xy){xiaolin->c.xpxl1, xiaolin->c.ypxl1 + 1}, \
			fpart_(xiaolin->c.yend) * xiaolin->c.xgap, \
			get_color(xiaolin->cur, p1, p2, xiaolin->delta));
	xiaolin->cur.y += xiaolin->c.sy;
	fill_floatdx_p2y_1(&xiaolin->c, p2);
	plot_(fdf->mlx, (t_xy){xiaolin->c.xpxl2, xiaolin->c.ypxl2}, \
			rfpart_(xiaolin->c.yend) * xiaolin->c.xgap, \
			get_color(xiaolin->cur, p1, p2, xiaolin->delta));
	plot_(fdf->mlx, (t_xy){xiaolin->c.xpxl2, xiaolin->c.ypxl2 + 1}, \
			fpart_(xiaolin->c.yend) * xiaolin->c.xgap, \
			get_color(xiaolin->cur, p1, p2, xiaolin->delta));
	xiaolin->x = xiaolin->c.xpxl1 + 1;
	while_otdelno(fdf, xiaolin, p1, p2);
}

void	\
	fuck_norminette_2(t_fdf *fdf, t_xiaolin *xiaolin, t_point p1, t_point p2)
{
	if (p2.y < p1.y)
		swapp(&p1, &p2);
	fill_floatdx_p1x_2(&xiaolin->c, p1);
	plot_(fdf->mlx, (t_xy){xiaolin->c.xpxl1, xiaolin->c.ypxl1}, \
			rfpart_(xiaolin->c.xend) * xiaolin->c.ygap, \
			get_color(xiaolin->cur, p1, p2, xiaolin->delta));
	plot_(fdf->mlx, (t_xy){xiaolin->c.xpxl1 + 1, xiaolin->c.ypxl1}, \
			fpart_(xiaolin->c.xend) * xiaolin->c.ygap, \
			get_color(xiaolin->cur, p1, p2, xiaolin->delta));
	fill_floatdx_p2y_2(&xiaolin->c, p2);
	plot_(fdf->mlx, (t_xy){xiaolin->c.xpxl2, xiaolin->c.ypxl2}, \
			rfpart_(xiaolin->c.xend) * xiaolin->c.ygap, \
			get_color(xiaolin->cur, p1, p2, xiaolin->delta));
	plot_(fdf->mlx, (t_xy){xiaolin->c.xpxl2 + 1, xiaolin->c.ypxl2}, \
			fpart_(xiaolin->c.xend) * xiaolin->c.ygap, \
			get_color(xiaolin->cur, p1, p2, xiaolin->delta));
	xiaolin->y = xiaolin->c.ypxl1 + 1;
	while_otdelno_2(fdf, xiaolin, p1, p2);
}
