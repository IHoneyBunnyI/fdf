/* ************************************************************************** */
/*  💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩    */
/*  💩                    ┌┐┌┌─┐┬─┐┌┬┐  ┬┌─┐  ┌─┐┬ ┬┬┌┬┐                  💩   */
/*  💩                    ││││ │├┬┘│││  │└─┐  └─┐├─┤│ │                   💩   */
/*  💩                    ┘└┘└─┘┴└─┴ ┴  ┴└─┘  └─┘┴ ┴┴ ┴                   💩   */
/*  💩                                                                    💩   */
/*  💩                          WOOOW NORM                                💩   */
/*  💩                                                                    💩   */
/*  💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩💩   */
/*                     		               			                          */
/*                                                                            */
/*      NORMINETTE LOVERS                                                     */
/*                                                                            */
/*                        ───────────────────────────────────                 */
/*                        ───────────▄▄█▀██▀█▄▄▄▄────────────                 */
/*                        ─────────▄█▀▀████▄▄█▀▀▀▀█▄▄────────                 */
/*                        ───────▄█░░░░░░░░░░░░░░░░░░█▄──────                 */
/*                        ─────▄██░░░░░░░░░░░░░░░░░░░░▀█▄────                 */
/*                        ────▄██░░░░░░░░░░░░░░░░░░░░░░░██───                 */
/*                        ────█▀░░░░░░░░▄░░░░░░░░░░▄░░░░░▀█▄─                 */
/*                        ───█▀░░░░▄▀▀▀▀░█░░░░░▄▀▀▀░▀▄░░░░░█▄                 */
/*                        ──██░░░░█░▄▀▀▄░█░░░░█░▄▀▀▄░░█░░░░██                 */
/*                        ─██░░░░░█░░▀▀░▄▀░░░░▀▄░▀▀░░▄▀░░░░░█                 */
/*                        ██▀░░░░░▀▀▀▀▀▀░░░░░░░░▀▀▀▀▀░░░░░░░█                 */
/*                        ██░░░░░░░░░░░░░▐░░░░░░░░░░░░░░░░░░█                 */
/*                        █▀░░░░░░░░░░░░░▌░░░░▌░░░░░░░░░░░░░█                 */
/*                        █░░░░░░░░░░░░░▐░▄░▄░▐░░░░░░░░░░░░░█                 */
/*                        █░░░░░░░░▐░░░░░░░░░░░░░░░░░░░░░░░░█                 */
/*                        █░░░░░░░░▌░░░░░░░░░░░░░░░░░░░░░░░██                 */
/*                        █░░░░░░░▐░░▄▀▀▀▀▀▀▀▀▄░░░░░░░░░░░░██                 */
/*                        ─█░░░░░░░▄▀▄████████▄█▄░▌░░░░░░░██─                 */
/*                        ──█░░░░░░█▄█▄▄▄▄▄▄▄▄██▀░▐░░░░░▄██──                 */
/*                        ──▀▄░░░░░░▀█▄▄▄▄▄▄▄▄▀░░░░░░░▄█▀────                 */
/*                        ────█▄░░▀▄░░░░░░░░░░░░░░░░▄█▀──────                 */
/*                        ─────█▄▄░░▀░░░░░░░░░░░░░▄█▀────────                 */
/*                        ───────▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀──────────                 */
/*                        ───────────────────────────────────                 */
/*                  ┌─┐┬ ┬┌─┐┬┌─  ┌┐┌┌─┐┬─┐┌┬┐  ┌─┐┬  ┬ ┬┌┐                   */
/*                  ├┤ │ ││  ├┴┐  ││││ │├┬┘│││  │  │  │ │├┴┐                  */
/*                  └  └─┘└─┘┴ ┴  ┘└┘└─┘┴└─┴ ┴  └─┘┴─┘└─┘└─┘                  */
/*                                                                            */
/*   By: NORM IS SHIT                         LIKE NORMINETTE                 */
/*                                                                            */
/*   Created: fjkghdkfg fdkjghdHdb by norm is Shit                            */
/*   Updated: BBBBBBBBBB 99999999 by FUCK THE NORM                            */
/*                                                                            */
/*                   ┌─┐┬ ┬┌─┐┬┌─  ┌┐┌┌─┐┬─┐┌┬┐  ┌─┐┬  ┬ ┬┌┐                  */
/*                   ├┤ │ ││  ├┴┐  ││││ │├┬┘│││  │  │  │ │├┴┐                 */
/*                   └  └─┘└─┘┴ ┴  ┘└┘└─┘┴└─┴ ┴  └─┘┴─┘└─┘└─┘                 */
/*                                                                            */
/*      Ставб лайк, если ты тоже любишь норму ❤️                              */
/*                                                                            */
/*                                                                            */
/*        💩💩💩💩💩💩💩       💩         💩                                     */
/*                                                                            */
/*                                                                            */
/*                                                                            */
/* ************************************************************************** */

#include "fdf.h"
#include <stdlib.h>
#include <time.h>

static void	invert_color(t_fdf *fdf, t_keys *keys)
{
	t_point	**points;
	int		i;
	int		j;

	i = -1;
	j = -1;
	if (!keys->option && !keys->shift && !keys->ctrl && keys->invert_color)
	{
		points = fdf->points;
		while (++i < fdf->map->height_map)
		{
			while (++j < fdf->map->width_map)
			{
				if (points[i][j].color != 0xFFFFFF)
					points[i][j].color = 0xFFFFFF - points[i][j].color;
			}
			j = -1;
		}
		keys->invert_color = 0;
	}
}

static void	random_color(t_fdf *fdf, t_keys *keys)
{
	t_point	**points;
	int		i;
	int		j;
	int		new_color;

	i = -1;
	j = -1;
	if (keys->shift && keys->invert_color)
	{
		points = fdf->points;
		srand(time(0));
		new_color = rand() % 0xFFFFFF;
		while (++i < fdf->map->height_map)
		{
			while (++j < fdf->map->width_map)
					points[i][j].color = new_color;
			j = -1;
		}
		keys->invert_color = 0;
	}
}

static void	rainbow_color(t_fdf *fdf, t_keys *keys)
{
	t_point	**points;
	int		i;
	int		j;

	i = -1;
	j = -1;
	if (keys->ctrl && keys->invert_color)
	{
		points = fdf->points;
		srand(time(0));
		while (++i < fdf->map->height_map)
		{
			while (++j < fdf->map->width_map)
				if (points[i][j].color != 0xFFFFFF)
					points[i][j].color = rand() % 0xFFFFFF;
			j = -1;
		}
		keys->invert_color = 0;
	}
}

static void	reset_color(t_fdf *fdf, t_keys *keys)
{
	int		i;
	int		j;

	i = -1;
	j = -1;
	if (keys->is_isometric || (keys->invert_color && keys->option))
	{
		while (++i < fdf->map->height_map)
		{
			while (++j < fdf->map->width_map)
			{
				if (fdf->points[i][j].color != 0xFFFFFF)
					fdf->points[i][j].color = fdf->points[i][j].first_color;
			}
			j = -1;
		}
		keys->invert_color = 0;
	}
}

void	colors_actions(t_fdf *fdf, t_keys *keys)
{
	invert_color(fdf, keys);
	random_color(fdf, keys);
	rainbow_color(fdf, keys);
	reset_color(fdf, keys);
}
